using System;
using System.Collections;

namespace project0
{
    class Program
    {
        static void printAmdinMenu()
        {
            Console.Clear();
            Console.WriteLine("Welcome Admin");
            Console.WriteLine("");
            Console.WriteLine("1. New Account");
            Console.WriteLine("2. Account History");
            Console.WriteLine("3. Withdrawal");
            Console.WriteLine("4. Deposit");
            Console.WriteLine("5. Transfer");
            Console.WriteLine("6. Disable Account");
            Console.WriteLine("7. Activate Account");
            Console.WriteLine("8. Exit");
            Console.WriteLine();

        }
        static void printMenu()
        {
            Console.Clear();
            Console.WriteLine("Welcome ");
            Console.WriteLine();
            Console.WriteLine("1. Admin");
            Console.WriteLine("2. Customer");
            Console.WriteLine("3. Exit");
            Console.WriteLine();
        }
        static void printCustomerMenu()
        {
            Console.Clear();
            Console.WriteLine("Welcome Customer");
            Console.WriteLine("");
            Console.WriteLine("1. Check Balance");
            Console.WriteLine("2. Withdrawal");
            Console.WriteLine("3. Deposit");
            Console.WriteLine("4. Transfer");
            Console.WriteLine("5. Transaction History");
            Console.WriteLine("6. Change Password");
            Console.WriteLine("7. Exit");
            Console.WriteLine();
        }
        static void goBackToMenu()
        {
            Console.WriteLine("Hit Enter to Main Menu");
            Console.ReadLine();

            printMenu();
        }
        static void Main(string[] args)
        {
            #region Menus
            bool continueApp = true;
            printMenu();


            while (continueApp)
            {
                try
                {
                    int choice = Convert.ToInt32(Console.ReadLine());

                    switch (choice)
                    {
                        case 1:         //login as admin
                            EmpInfo empinfo = new EmpInfo();
                            int adminChoice;
                            int counter = 0;
                            while (counter <= 3)
                            {
                                counter++;
                                if (empinfo.LoginCheck())
                                {

                                    printAmdinMenu();

                                    adminChoice = Convert.ToInt32(Console.ReadLine());
                                    switch (adminChoice)
                                    {
                                        case 1:                     // Create New Account
                                            Console.Clear();
                                            Console.WriteLine("       New Account");
                                            Console.WriteLine("---------------------------");


                                            Console.Write("Name: ");
                                            string v_name = Console.ReadLine();

                                            Console.Write("Adress: ");
                                            string v_address = Console.ReadLine();

                                            Console.Write("Email: ");
                                            string v_email = Console.ReadLine();

                                            Console.Write("Balance: $");
                                            int v_balance = Convert.ToInt32(Console.ReadLine());

                                            Console.Write("PIN: ");
                                            int v_pin = Convert.ToInt32(Console.ReadLine());

                                           // string result = empinfo.AddNewEmployee(v_name, v_address, v_email, v_balance, v_pin);

                                            // Get the employee accNo

                                            List<int> l = empinfo.getData(v_name);
                                            int v_accNo = l[0];

                                            Console.WriteLine();
                                            Console.WriteLine("Account Successfully Created for " + v_name + "with acount number: " + v_accNo);

                                            goBackToMenu();
                                            break;

                                        case 2:
                                            Console.Clear();
                                            Console.WriteLine("Account Details");

                                            goBackToMenu();
                                            break;

                                        case 3:
                                            Console.Clear();
                                            Console.WriteLine("Withdrawal");

                                            goBackToMenu();
                                            break;

                                        case 4:
                                            Console.Clear();
                                            Console.WriteLine("Deposit");

                                            goBackToMenu();
                                            break;

                                        case 5:
                                            Console.Clear();
                                            Console.WriteLine("Transfer Funds");

                                            goBackToMenu();
                                            break;

                                        case 6:
                                            Console.Clear();
                                            Console.WriteLine("Disable Account");

                                            goBackToMenu();
                                            break;

                                        case 7:
                                            Console.Clear();
                                            Console.WriteLine("Activate Account");

                                            goBackToMenu();
                                            break;

                                        case 8:
                                            Console.Clear();
                                            Console.WriteLine("Thank You for Using the App");
                                            continueApp = false;
                                            goBackToMenu();
                                            break;
                                    }
                                }
                                else
                                {
                                    Console.WriteLine("Account Number and PIN don't match. Try Again.");
                                }

                                if (counter == 3)
                                {
                                    Console.Clear();
                                    Console.WriteLine("Wrong PIN more than 3 times is not allowed.");
                                    Console.WriteLine("Exiting");
                                    continueApp = false;
                                    break;
                                }
                            }



                            break;

                        case 2:

                            printCustomerMenu();
                            int customerChoice = Convert.ToInt32(Console.ReadLine());
                            switch (customerChoice)
                            {
                                case 1:
                                    Console.Clear();
                                    Console.WriteLine("Balance");
                                    goBackToMenu();
                                    break;

                                case 2:
                                    Console.Clear();
                                    Console.WriteLine("Withdrawal");
                                    goBackToMenu();
                                    break;

                                case 3:
                                    Console.Clear();
                                    Console.WriteLine("Deposit");
                                    goBackToMenu();
                                    break;

                                case 4:
                                    Console.Clear();
                                    Console.WriteLine("Transfer");
                                    goBackToMenu();
                                    break;

                                case 5:
                                    Console.Clear();
                                    Console.WriteLine("Transaction History");
                                    goBackToMenu();
                                    break;

                                case 6:
                                    Console.Clear();
                                    Console.WriteLine("Change Password");
                                    goBackToMenu();
                                    break;

                                case 7:
                                    Console.Clear();
                                    Console.WriteLine("Thank You for Using the App");
                                    continueApp = false;
                                    break;
                            }
                            break;
                        case 3:
                            Console.Clear();
                            Console.WriteLine("Thank you for using the app.");
                            continueApp = false;
                            break;
                    }
                }
                catch (Exception es)
                {
                    Console.Clear();
                    Console.WriteLine(es.Message);
                }
            }
            #endregion

            //EmpInfo empInfo = new EmpInfo();
            //List<int> r = empInfo.getData("daloba sylla ");

            //int r_accNo =0, r_accBalance =0, r_accPin = 0;
            //for (int i = 0; i < r.Count; i++)
            //{
            //    r_accNo = r[0];
            //    r_accBalance = r[1];
            //    r_accPin = r[2];
            //}

            //// Print Values 
            //Console.WriteLine("Account Number: " + r_accNo);
            //Console.WriteLine("Account Balance: $" + r_accBalance);
            //Console.WriteLine("Account PIN: " + r_accPin);

        }
    }
}

