using System;
using System.Collections;

namespace project0
{
    class Program
    {

        static void printAmdinMenu()
        {
            Console.Clear();
            Console.WriteLine("Welcome Admin");
            Console.WriteLine("");
            Console.WriteLine("1. New Account");
            Console.WriteLine("2. Account History");
            Console.WriteLine("3. Withdrawal");
            Console.WriteLine("4. Deposit");
            Console.WriteLine("5. Transfer");
            Console.WriteLine("6. Disable Account");
            Console.WriteLine("7. Activate Account");
            Console.WriteLine("8. Exit");
            Console.WriteLine();

        }
        static void printMenu()
        {
            Console.Clear();
            Console.WriteLine("Welcome ");
            Console.WriteLine();
            Console.WriteLine("1. Admin");
            Console.WriteLine("2. Customer");
            Console.WriteLine("3. Exit");
            Console.WriteLine();
        }
        static void printCustomerMenu()
        {
            Console.Clear();
            Console.WriteLine("Welcome Customer");
            Console.WriteLine("");
            Console.WriteLine("1. Check Balance");
            Console.WriteLine("2. Withdrawal");
            Console.WriteLine("3. Deposit");
            Console.WriteLine("4. Transfer");
            Console.WriteLine("5. Transaction History");
            Console.WriteLine("6. Change Password");
            Console.WriteLine("7. Exit");
            Console.WriteLine();
        }
        static void goBackToMenu(bool continueUser)
        {
            continueUser = false;
            Console.WriteLine();
            Console.WriteLine("Hit Enter to Main Menu");
            Console.ReadLine();
            

            //printMenu();
        }
        static void Main(string[] args)
        {
            #region Menus
            bool continueApp = true;

            while (continueApp)
            {

                try
                {
                    printMenu();
                    int choice = Convert.ToInt32(Console.ReadLine());

                    switch (choice)
                    {
                        case 1:         //login as admin
                            EmpInfo empinfo = new EmpInfo();
                            int adminChoice;
                            int counter = 0;
                            bool continueAdmin = true;
                            if (empinfo.LoginCheck())
                            {
                                printAmdinMenu();
                                adminChoice = Convert.ToInt32(Console.ReadLine());

                                switch (adminChoice)
                                {
                                    #region Case 1 Create Account
                                    case 1:                     // Create New Account
                                        #region Create New Account
                                        Console.Clear();
                                        Console.WriteLine("       New Account");
                                        Console.WriteLine("---------------------------");


                                        Console.Write("Name: ");
                                        string v_name = Console.ReadLine();

                                        Console.Write("Adress: ");
                                        string v_address = Console.ReadLine();

                                        Console.Write("Email: ");
                                        string v_email = Console.ReadLine();

                                        Console.Write("Balance: $");
                                        int v_balance = Convert.ToInt32(Console.ReadLine());

                                        Console.Write("PIN: ");
                                        int v_pin = Convert.ToInt32(Console.ReadLine());

                                        empinfo.AddNewCustomer(v_name, v_address, v_email, v_balance, v_pin);

                                        // Get the employee accNo

                                        List<int> l = empinfo.getData(v_name);
                                        int v_accNo = l[0];
                                        int v_balanceNo = l[1];
                                        int v_pinNo = l[2];

                                        Console.WriteLine();
                                        Console.WriteLine("Account Successfully Created for " + v_name);
                                        Console.WriteLine("Account Number: " + v_accNo);
                                        goBackToMenu(continueAdmin);
                                        #endregion
                                        break;
                                    #endregion

                                    #region Case 2 Account Details
                                    case 2:
                                        Console.Clear();
                                        Console.WriteLine("Account Details");

                                        goBackToMenu(continueAdmin);
                                        break;
                                    #endregion

                                    #region Case 3 Withdrawal
                                    case 3:
                                        Console.Clear();
                                        Console.WriteLine("       Withdrawal");
                                        Console.WriteLine("---------------------------");
                                        Console.WriteLine("");
                                        Console.Write("Withdrawal Amount: $");

                                        int witAmount = Convert.ToInt32(Console.ReadLine());
                                        Console.Write("Name: ");
                                        string aName = Console.ReadLine();
                                        Account accInfo = new Account();
                                        int newBalance = accInfo.Withdraw(witAmount, aName);

                                        Console.WriteLine();
                                        Console.WriteLine("--------------------------");
                                        Console.WriteLine("New Account Balance:" + newBalance);


                                        goBackToMenu(continueAdmin);
                                        break;
                                    #endregion

                                    #region Case 4 Deposit 
                                    case 4:
                                        Console.Clear();
                                        Console.WriteLine("         Deposit");
                                        Console.Write("---------------------------");
                                        Console.WriteLine();
                                        Console.Write("Amount: $");

                                        int depAmount = Convert.ToInt32(Console.ReadLine());
                                        Console.Write("Name: ");
                                        string depName = Console.ReadLine();
                                        Account accInfo1 = new Account();
                                        int depBalance = accInfo1.Deposit(depAmount, depName);

                                        Console.WriteLine();

                                        goBackToMenu(continueAdmin);
                                        break;
                                    #endregion

                                    #region Case 5 Transfer Funds
                                    case 5:
                                        Console.Clear();
                                        Console.WriteLine("Transfer Funds");

                                        goBackToMenu(continueAdmin);
                                        break;
                                    #endregion


                                    #region Case 6 Disable Account 
                                    case 6:
                                        Console.Clear();
                                        Console.WriteLine("           Disable Account");
                                        Console.WriteLine("----------------------------");
                                        //EmpInfo empinfo2 = new EmpInfo();
                                        Console.Write("Account Number: ");
                                        int o_accNo = Convert.ToInt32(Console.ReadLine());

                                        empinfo.disableAccount(o_accNo);
                                        goBackToMenu(continueAdmin);
                                        break;
                                    #endregion

                                    #region Case 7 Activate Account
                                    case 7:
                                        Console.Clear();
                                        Console.WriteLine("Activate Account");
                                        Console.WriteLine("----------------------------");
                                        
                                        Console.Write("Account Number: ");
                                        int m_accNo = Convert.ToInt32(Console.ReadLine());

                                        empinfo.activateAccount(m_accNo);

                                        goBackToMenu(continueAdmin);
                                        break;
                                    #endregion

                                    #region Case 8 Exiting
                                    case 8:
                                        Console.Clear();
                                        Console.WriteLine("Thank You for Using the App");
                                        continueApp = false;
                                        goBackToMenu(continueAdmin);
                                        break;
                                     #endregion

                                }
                            }
                            else if (!empinfo.LoginCheck())
                            {
                                Console.WriteLine("Account Number and PIN don't match. Try Again.");
                                counter++;
                            }

                            if (counter == 3)
                            {
                                Console.Clear();
                                Console.WriteLine("Wrong PIN more than 3 times is not allowed.");
                                Console.WriteLine("Exiting");
                                continueApp = false;
                                break;
                            }
                            break;


                        case 2:

                            printCustomerMenu();
                            EmpInfo empinfo2 = new EmpInfo();
                            int customerChoice
                            int counter = 0;
                            bool continueAdmin = true
                            switch (customerChoice)
                            {
                                #region Case 1 Check Balance 
                                case 1:
                                    Console.Clear();
                                    Console.WriteLine("Balance");
                                    goBackToMenu(continueCustomer);
                                    break;
                                #endregion

                                #region Case 2 Withdrawal 
                                case 2:
                                    Console.Clear();
                                    Console.WriteLine("Withdrawal");
                                    goBackToMenu(continueCustomer);
                                    break;
                                #endregion

                                #region Case 3 Deposit
                                case 3:
                                    Console.Clear();
                                    Console.WriteLine("Deposit");
                                    goBackToMenu(continueCustomer);
                                    break;
                                #endregion

                                #region Case 4 Transfer
                                case 4:
                                    Console.Clear();
                                    Console.WriteLine("Transfer");
                                    goBackToMenu(continueCustomer);
                                    break;
                                #endregion

                                #region Case 5 Transaction History
                                case 5:
                                    Console.Clear();
                                    Console.WriteLine("Transaction History");
                                    goBackToMenu(continueCustomer);
                                    break;
                                #endregion

                                #region Case 6 Change Password
                                case 6:
                                    Console.Clear();
                                    Console.WriteLine("Change Password");
                                    goBackToMenu(continueCustomer);
                                    break;
                                #endregion

                                #region Case 7 Quit App
                                case 7:
                                    Console.Clear();
                                    Console.WriteLine("Thank You for Using the App");
                                    continueApp = false;
                                    break;
                                    #endregion

                            }
                            break;

                        #region Case 3 Quit App
                        case 3:
                            Console.Clear();
                            Console.WriteLine("Thank you for using the app.");
                            continueApp = false;
                            break;
                            #endregion
                    }
                }
                catch (Exception es)
                {
                    Console.Clear();
                    Console.WriteLine(es.Message);
                }
            }
            #endregion

            //EmpInfo empInfo = new EmpInfo();
            //empInfo.updateBalance(103,2348);

        }
    }
}
